<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Finance Receipt Sorter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, var(--bg-gradient-start,#4c6ef5), var(--bg-gradient-end,#7048e8));
            color: var(--text-color,white);
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .main-container {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .sidebar {
            width: 250px;
            background: var(--sidebar-bg,rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            padding: 2rem 1rem;
        }

        .nav-item {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--text-color,white);
            text-decoration: none;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: background-color 0.2s;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item.active {
            background: rgba(255, 255, 255, 0.2);
        }

        .content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        .welcome-card {
            background: var(--card-bg,rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .welcome-card h2 {
            color: var(--text-color,white);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .welcome-card p {
            color: var(--text-color,rgba(255,255,255,0.8));
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ff6b6b;
        }

        .status-dot.connected {
            background: #51cf66;
        }

        .status-text {
            color: var(--text-color,rgba(255,255,255,0.9));
            font-size: 0.9rem;
        }

        .footer {
            padding: 1rem 2rem;
            background: rgba(0, 0, 0, 0.1);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
        }

        .notification.notification-success { background:#51cf66; }

        /* Theme support */
        .theme-dark {
            --bg-gradient-start:#1e1e2e;
            --bg-gradient-end:#11111b;
            --card-bg:rgba(255,255,255,0.05);
            --text-color:#f8f8f2;
            --sidebar-bg:rgba(255,255,255,0.05);
        }

        .theme-light {
            --bg-gradient-start:#e0e4ff;
            --bg-gradient-end:#bac8ff;
            --card-bg:rgba(255,255,255,0.6);
            --text-color:#1e1e1e;
            --sidebar-bg:rgba(255,255,255,0.4);
        }

        .theme-light, .theme-light h2, .theme-light p, .theme-light a, .theme-light .status-text, .theme-light th, .theme-light td, .theme-light .btn  {
            color: #1e1e1e !important;
        }

        /* Analytics specific styles */
        .analytics-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .analytics-header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .date-range-selector {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .date-range-btn {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-color, white);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s;
        }

        .date-range-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .date-range-btn.active {
            background: #4c6ef5;
            border-color: #4c6ef5;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--card-bg, rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--text-color, white);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-color, rgba(255, 255, 255, 0.8));
            margin-bottom: 0.5rem;
        }

        .stat-change {
            font-size: 0.8rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-weight: 500;
        }

        .stat-change.positive {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
        }

        .stat-change.negative {
            background: rgba(81, 207, 102, 0.2);
            color: #51cf66;
        }

        .charts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .chart-card {
            background: var(--card-bg, rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .chart-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-color, white);
            margin-bottom: 1rem;
        }

        .chart-wrapper {
            position: relative;
            height: 300px;
        }

        .full-width-chart {
            grid-column: 1 / -1;
        }

        .insights-section {
            background: var(--card-bg, rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 2rem;
        }

        .insight-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
        }

        .insight-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
        }

        .insight-icon.info { background: #339af0; }
        .insight-icon.warning { background: #ffd43b; }
        .insight-icon.success { background: #51cf66; }

        /* Categories Page Styles */
        .categories-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .categories-header h2 {
            margin: 0;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
        }

        .btn-add-category {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .btn-add-category:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .category-card {
            background: var(--card-bg, rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            position: relative;
        }

        .category-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }

        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .category-icon-name {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .category-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
            font-weight: bold;
        }

        .category-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
            margin: 0;
        }

        .category-actions {
            display: flex;
            gap: 0.5rem;
            opacity: 0.6;
            transition: opacity 0.2s ease;
        }

        .category-card:hover .category-actions {
            opacity: 1;
        }

        .btn-category-action {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 6px;
            padding: 6px;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.8);
            transition: background 0.2s ease;
        }

        .btn-category-action:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .category-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .category-amount {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-color, #667eea);
        }

        .category-count {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .category-progress {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin: 1rem 0 0.5rem 0;
            overflow: hidden;
        }

        .category-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color, #667eea), var(--secondary-color, #764ba2));
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        /* Budget tracking styles */
        .budget-section {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .budget-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            font-size: 0.85rem;
        }

        .budget-label {
            color: rgba(255, 255, 255, 0.7);
        }

        .budget-amount {
            font-weight: 600;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
        }

        .budget-progress {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 0.25rem;
        }

        .budget-progress-bar {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease, background-color 0.3s ease;
        }

        .budget-progress-bar.safe {
            background: linear-gradient(90deg, #51cf66, #40c057);
        }

        .budget-progress-bar.warning {
            background: linear-gradient(90deg, #ffd43b, #fab005);
        }

        .budget-progress-bar.danger {
            background: linear-gradient(90deg, #fa5252, #e03131);
        }

        .budget-status {
            font-size: 0.75rem;
            font-weight: 500;
        }

        .budget-status.safe {
            color: #51cf66;
        }

        .budget-status.warning {
            color: #ffd43b;
        }

        .budget-status.danger {
            color: #fa5252;
        }

        .budget-remaining {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.6);
        }

        /* Subcategories display */
        .subcategories-section {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .subcategories-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 0.5rem;
        }

        .subcategories-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem;
        }

        .subcategory-tag {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 0.25rem 0.5rem;
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.8);
            transition: all 0.2s ease;
        }

        .subcategory-tag:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* Export dropdown and category header styles */
        .category-header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .dropdown {
            position: relative;
        }

        .btn-export {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .btn-export:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .dropdown-arrow {
            font-size: 0.7rem;
            transition: transform 0.2s ease;
        }

        .dropdown.open .dropdown-arrow {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--card-bg, rgba(255, 255, 255, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            min-width: 200px;
            padding: 0.5rem 0;
            margin-top: 0.5rem;
            display: none;
            z-index: 1000;
        }

        .dropdown.open .dropdown-menu {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        /* Emergency backup styles for dropdown */
        .dropdown-menu[style*="display: block"] {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: absolute !important;
            top: 100% !important;
            right: 0 !important;
            z-index: 9999 !important;
            background: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 8px !important;
            min-width: 200px !important;
            padding: 0.5rem 0 !important;
        }

        .dropdown-item {
            width: 100%;
            background: transparent;
            border: none;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
            padding: 0.75rem 1rem;
            text-align: left;
            cursor: pointer;
            transition: background 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Search and filter controls */
        .categories-controls {
            margin-bottom: 2rem;
        }

        .search-filter-section {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-box-container {
            position: relative;
            flex: 1;
            min-width: 200px;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 2.5rem 0.75rem 1rem;
            background: var(--card-bg, rgba(255, 255, 255, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
            font-size: 0.9rem;
            transition: border-color 0.2s ease, background 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-color, #667eea);
            background: var(--card-bg, rgba(255, 255, 255, 0.15));
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .search-icon {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0.6;
            pointer-events: none;
        }

        .filter-controls {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .filter-select {
            padding: 0.75rem 1rem;
            background: var(--card-bg, rgba(255, 255, 255, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
            font-size: 0.9rem;
            cursor: pointer;
            transition: border-color 0.2s ease, background 0.2s ease;
            min-width: 150px;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--accent-color, #667eea);
            background: var(--card-bg, rgba(255, 255, 255, 0.15));
        }

        .filter-select option {
            background: #2c2c2c;
            color: #ffffff;
        }

        /* Budget Overview Section */
        .budget-overview {
            background: var(--card-bg, rgba(255, 255, 255, 0.1));
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .budget-overview-header h3 {
            margin: 0 0 1rem 0;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
            font-size: 1.2rem;
        }

        .budget-overview-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .budget-stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .budget-stat-label {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 0.5rem;
        }

        .budget-stat-value {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
        }

        .budget-overall-progress {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .budget-alerts {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .budget-alert {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            padding: 0.5rem 0.75rem;
            font-size: 0.85rem;
            border-left: 3px solid;
        }

        .budget-alert.warning {
            border-left-color: #ffd43b;
            color: #ffd43b;
        }

        .budget-alert.danger {
            border-left-color: #fa5252;
            color: #fa5252;
        }

        /* Category info banner */
        .category-info-banner {
            background: var(--card-bg, rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(10px);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-left: 4px solid var(--accent-color, #667eea);
        }

        .info-banner-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .info-banner-header strong {
            color: var(--text-color, rgba(255, 255, 255, 0.9));
        }

        .info-banner-text {
            font-size: 0.9rem;
            color: var(--text-secondary, rgba(255, 255, 255, 0.7));
            line-height: 1.4;
        }

        .info-banner-text strong {
            color: var(--text-color, rgba(255, 255, 255, 0.8));
        }

        /* Receipt-only category styling */
        .receipt-only-category {
            border: 1px dashed var(--border-color, rgba(255, 255, 255, 0.3));
            opacity: 0.8;
            position: relative;
        }

        .receipt-only-category .category-name {
            font-style: italic;
        }

        .receipt-only-category::before {
            content: 'ü§ñ';
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            font-size: 0.8rem;
            opacity: 0.6;
        }

        /* Light theme overrides */
        .theme-light .category-info-banner {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-left: 4px solid var(--accent-color, #667eea);
            backdrop-filter: blur(10px);
        }

        .theme-light .info-banner-header strong {
            color: #1a1a1a;
        }

        .theme-light .info-banner-text {
            color: #4a4a4a;
        }

        .theme-light .info-banner-text strong {
            color: #2a2a2a;
        }

        .theme-light .receipt-only-category {
            border: 1px dashed rgba(0, 0, 0, 0.4);
        }

        /* Additional light theme category styling */
        .theme-light .category-card {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
        }

        .theme-light .category-name {
            color: #1a1a1a !important;
        }

        .theme-light .category-amount {
            color: #4c6ef5 !important;
        }

        .theme-light .category-count {
            color: #666666 !important;
        }

        .theme-light .categories-header h2 {
            color: #1a1a1a !important;
        }

        .theme-light .receipt-only-category::before {
            opacity: 0.8;
        }

        .theme-light .receipt-only-category .category-name {
            color: #4a4a4a !important;
        }

        /* Light theme budget styles */
        .theme-light .budget-section {
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .theme-light .budget-label {
            color: rgba(0, 0, 0, 0.6);
        }

        .theme-light .budget-amount {
            color: #1a1a1a;
        }

        .theme-light .budget-progress {
            background: rgba(0, 0, 0, 0.1);
        }

        .theme-light .budget-remaining {
            color: rgba(0, 0, 0, 0.5);
        }

        /* Light theme subcategories styles */
        .theme-light .subcategories-section {
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .theme-light .subcategories-label {
            color: rgba(0, 0, 0, 0.6);
        }

        .theme-light .subcategory-tag {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: rgba(0, 0, 0, 0.7);
        }

        .theme-light .subcategory-tag:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        /* Light theme export dropdown styles */
        .theme-light .dropdown-menu {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(0, 0, 0, 0.15);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .theme-light .dropdown-item {
            color: #1a1a1a;
        }

        .theme-light .dropdown-item:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        /* Light theme search and filter styles */
        .theme-light .search-input {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: #1a1a1a;
        }

        .theme-light .search-input::placeholder {
            color: rgba(0, 0, 0, 0.5);
        }

        .theme-light .search-input:focus {
            background: rgba(255, 255, 255, 1);
            border-color: var(--accent-color, #667eea);
        }

        .theme-light .filter-select {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: #1a1a1a;
        }

        .theme-light .filter-select:focus {
            background: rgba(255, 255, 255, 1);
            border-color: var(--accent-color, #667eea);
        }

        .theme-light .filter-select option {
            background: #ffffff;
            color: #000000;
        }

        /* Light theme budget overview styles */
        .theme-light .budget-overview {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .theme-light .budget-overview-header h3 {
            color: #1a1a1a;
        }

        .theme-light .budget-stat-card {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .theme-light .budget-stat-label {
            color: rgba(0, 0, 0, 0.6);
        }

        .theme-light .budget-stat-value {
            color: #1a1a1a;
        }

        .theme-light .budget-overall-progress {
            background: rgba(0, 0, 0, 0.1);
        }

        .theme-light .budget-alert {
            background: rgba(0, 0, 0, 0.05);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: var(--card-bg, rgba(30, 30, 30, 0.95));
            margin: 10% auto;
            padding: 2rem;
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(20px);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-title {
            margin: 0;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
        }

        .close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.6);
            transition: color 0.2s ease;
        }

        .close:hover {
            color: white;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-color, rgba(255, 255, 255, 0.9));
            font-size: 1rem;
            transition: border-color 0.2s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-color, #667eea);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .color-icon-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .color-option, .icon-option {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            border: 2px solid transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s ease, border-color 0.2s ease;
        }

        .color-option:hover, .icon-option:hover {
            transform: scale(1.1);
        }

        .color-option.selected, .icon-option.selected {
            border-color: white;
            transform: scale(1.1);
        }

        .icon-option {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.1rem;
        }

        .modal-buttons {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s ease;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
        }

        /* Category Details Modal Styles */
        .category-details-content {
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .category-details-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .category-details-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .detail-stat {
            text-align: center;
        }

        .detail-stat-value {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-color, #667eea);
            margin-bottom: 0.25rem;
        }

        .detail-stat-label {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .receipts-actions {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            align-items: center;
        }

        .search-box {
            flex: 1;
        }

        .filter-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .receipts-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .receipt-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: background 0.2s ease;
        }

        .receipt-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .receipt-info {
            flex: 1;
        }

        .receipt-vendor {
            font-weight: 600;
            color: var(--text-color, rgba(255, 255, 255, 0.9));
            margin-bottom: 0.25rem;
        }

        .receipt-details {
            display: flex;
            gap: 1rem;
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .receipt-amount {
            font-weight: 600;
            color: var(--accent-color, #667eea);
            font-size: 1.1rem;
        }

        .receipt-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-receipt-action {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 4px;
            padding: 6px 12px;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.8rem;
            transition: background 0.2s ease;
        }

        .btn-receipt-action:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .btn-receipt-action.danger:hover {
            background: #fa5252;
        }

        .empty-receipts {
            text-align: center;
            padding: 2rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .category-select {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            padding: 4px 8px;
            color: rgba(255, 255, 255, 0.9) !important;
            font-size: 0.8rem;
            font-weight: normal;
            min-width: 120px;
            cursor: pointer;
        }

        .category-select:focus {
            outline: none;
            border-color: var(--accent-color, #667eea);
        }

        .category-select option {
            background: #2c2c2c !important;
            color: #ffffff !important;
            padding: 4px 8px;
            font-weight: normal;
        }

        .category-select option:hover {
            background: #3c3c3c !important;
            color: #ffffff !important;
        }

        .category-select option:checked {
            background: var(--accent-color, #667eea) !important;
            color: #ffffff !important;
        }

        /* For light theme */
        .theme-light .category-select {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: rgba(0, 0, 0, 0.9);
        }

        .theme-light .category-select option {
            background: #ffffff;
            color: #000000;
        }

        .theme-light .category-select option:hover {
            background: #f0f0f0;
        }

        @media (max-width: 768px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
            
            .analytics-header {
                flex-direction: column;
                align-items: stretch;
            }

            .categories-grid {
                grid-template-columns: 1fr;
            }

            .category-details-stats {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }

            .receipts-actions {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-buttons {
                justify-content: center;
            }

            .receipt-item {
                flex-direction: column;
                align-items: stretch;
                gap: 1rem;
            }

            .receipt-actions {
                justify-content: center;
                flex-wrap: wrap;
            }
        }

        /* Receipts table spacing */
        .receipts-table th, .receipts-table td {
            padding: 4px 12px;
        }

        .budget-section.suggested .budget-label {
            color: #52c41a;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üßæ Personal Finance Receipt Sorter</h1>
    </div>

    <div class="main-container">
        <nav class="sidebar">
            <a href="#" class="nav-item active" data-page="dashboard">üìä Dashboard</a>
            <a href="#" class="nav-item" data-page="receipts">üßæ Receipts</a>
            <a href="#" class="nav-item" data-page="categories">üè∑Ô∏è Categories</a>
            <a href="#" class="nav-item" data-page="analytics">üìà Analytics</a>
            <a href="#" class="nav-item" data-page="settings">‚öôÔ∏è Settings</a>
        </nav>

        <main class="content">
            <div id="dashboard-page">
                <div class="welcome-card">
                    <h2>Welcome to Receipt Sorter!</h2>
                    <p>
                        Drop your receipt images or PDFs into the inbox folder, and watch as AI automatically 
                        extracts vendor information, amounts, dates, and categories for your personal finance tracking.
                    </p>
                    <p>
                        <strong>Getting Started:</strong>
                    </p>
                    <ul style="color: rgba(255, 255, 255, 0.8); margin-left: 1.5rem; margin-bottom: 1rem;">
                        <li>Click "Open Inbox Folder" to access your receipt drop zone</li>
                        <li>Drag and drop receipt images or PDFs</li>
                        <li>Watch them appear automatically in your receipts list</li>
                        <li>Review and categorize as needed</li>
                    </ul>
                    <button class="btn" id="open-inbox-btn">üìÅ Open Inbox Folder</button>
                </div>

                <div class="welcome-card">
                    <h2>System Status</h2>
                    <div class="status-indicator">
                        <div class="status-dot" id="firebase-status"></div>
                        <span class="status-text">Firebase: <span id="firebase-text">Connecting...</span></span>
                    </div>
                    <div class="status-indicator">
                        <div class="status-dot" id="n8n-status"></div>
                        <span class="status-text">N8N Workflow: <span id="n8n-text">Not Running</span></span>
                    </div>
                    <div class="status-indicator">
                        <div class="status-dot" id="openai-status"></div>
                        <span class="status-text">OpenAI: <span id="openai-text">Ready</span></span>
                    </div>
                </div>
            </div>

            <!-- Other pages will be added here -->
            <div id="receipts-page" style="display: none;">
                <div class="analytics-header">
                    <h2>üìß Recent Receipts</h2>
                    <div class="category-header-actions">
                        <div class="dropdown">
                            <button class="btn-export" id="receipts-export-btn">
                                <span>üìä</span>
                                Export
                                <span class="dropdown-arrow">‚ñº</span>
                            </button>
                            <div class="dropdown-menu" id="receipts-export-menu">
                                <button class="dropdown-item" onclick="exportReceipts('csv')">
                                    üìÑ Export as CSV
                                </button>
                                <button class="dropdown-item" onclick="exportReceipts('json')">
                                    üìã Export as JSON
                                </button>
                                <button class="dropdown-item" onclick="exportReceiptsSummary()">
                                    üìä Export Summary Report
                                </button>
                                <button class="dropdown-item" onclick="exportAnalyticsReport()">
                                    üìà Export Analytics Report
                                </button>
                            </div>
                        </div>
                        <button class="btn" onclick="loadReceipts()">
                            <span>üîÑ</span>
                            Refresh
                        </button>
                    </div>
                </div>
                
                <div class="welcome-card">
                    <div id="receipts-summary" style="display: none;">
                        <div class="category-details-stats">
                            <div class="detail-stat">
                                <span class="detail-stat-value" id="receipts-total-amount">$0</span>
                                <span class="detail-stat-label">Total Amount</span>
                            </div>
                            <div class="detail-stat">
                                <span class="detail-stat-value" id="receipts-count">0</span>
                                <span class="detail-stat-label">Total Receipts</span>
                            </div>
                            <div class="detail-stat">
                                <span class="detail-stat-value" id="receipts-avg-amount">$0</span>
                                <span class="detail-stat-label">Average Amount</span>
                            </div>
                        </div>
                    </div>
                    
                    <div id="receipts-list">
                        <!-- Receipts will be loaded here -->
                    </div>
                </div>
            </div>

            <div id="categories-page" style="display: none;">
                <div class="categories-header">
                    <h2>üè∑Ô∏è Spending Categories</h2>
                    <div class="category-header-actions">
                        <div class="dropdown">
                            <button class="btn-export" id="export-btn">
                                <span>üìä</span>
                                Export
                                <span class="dropdown-arrow">‚ñº</span>
                            </button>
                            <div class="dropdown-menu" id="export-menu">
                                <button class="dropdown-item" onclick="exportCategories('csv')">
                                    üìÑ Export as CSV
                                </button>
                                <button class="dropdown-item" onclick="exportCategories('json')">
                                    üìã Export as JSON
                                </button>
                                <button class="dropdown-item" onclick="exportBudgetReport()">
                                    üìä Export Budget Report
                                </button>
                                <button class="dropdown-item" onclick="exportAnalyticsReport()">
                                    üìà Export Analytics Report
                                </button>
                            </div>
                        </div>
                        <button class="btn" id="suggest-budget-btn">
                            <span>ü§ñ</span>
                            Suggest Budgets
                        </button>
                        <button class="btn-add-category" id="add-category-btn">
                            <span>‚ûï</span>
                            Add Category
                        </button>
                    </div>
                </div>
                
                <div class="category-info-banner">
                    <div class="info-banner-header">
                        <span style="font-size: 1.1rem;">‚ÑπÔ∏è</span>
                        <strong>Category Types</strong>
                    </div>
                    <div class="info-banner-text">
                        <strong>Managed Categories:</strong> Categories you've created with custom colors and icons.<br>
                        <strong>Auto Categories (ü§ñ):</strong> Categories automatically detected from your receipts. Click ‚ûï to convert them to managed categories.
                    </div>
                </div>

                <div id="budget-overview" class="budget-overview" style="display: none;">
                    <div class="budget-overview-header">
                        <h3>üìä Budget Overview - <span id="current-month-name"></span></h3>
                    </div>
                    <div class="budget-overview-stats">
                        <div class="budget-stat-card">
                            <div class="budget-stat-label">Total Budget</div>
                            <div class="budget-stat-value" id="total-budget">$0</div>
                        </div>
                        <div class="budget-stat-card">
                            <div class="budget-stat-label">Total Spent</div>
                            <div class="budget-stat-value" id="total-spent-budget">$0</div>
                        </div>
                        <div class="budget-stat-card">
                            <div class="budget-stat-label">Remaining</div>
                            <div class="budget-stat-value" id="total-remaining">$0</div>
                        </div>
                        <div class="budget-stat-card">
                            <div class="budget-stat-label">Categories with Budgets</div>
                            <div class="budget-stat-value" id="budget-categories-count">0</div>
                        </div>
                    </div>
                    <div class="budget-overview-progress">
                        <div class="budget-overall-progress">
                            <div id="budget-overall-bar" class="budget-progress-bar safe" style="width: 0%"></div>
                        </div>
                        <div class="budget-alerts" id="budget-alerts"></div>
                    </div>
                </div>

                <div class="categories-controls">
                    <div class="search-filter-section">
                        <div class="search-box-container">
                            <input type="text" id="category-search" class="search-input" placeholder="Search categories...">
                            <span class="search-icon">üîç</span>
                        </div>
                        
                        <div class="filter-controls">
                            <select id="sort-categories" class="filter-select">
                                <option value="name">Sort by Name</option>
                                <option value="amount-desc">Amount (High to Low)</option>
                                <option value="amount-asc">Amount (Low to High)</option>
                                <option value="receipts-desc">Most Receipts</option>
                                <option value="receipts-asc">Fewest Receipts</option>
                                <option value="budget-status">Budget Status</option>
                            </select>
                            
                            <select id="filter-categories" class="filter-select">
                                <option value="all">All Categories</option>
                                <option value="managed">Managed Only</option>
                                <option value="auto">Auto Only</option>
                                <option value="with-budget">With Budget</option>
                                <option value="over-budget">Over Budget</option>
                                <option value="no-receipts">No Receipts</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="categories-grid" id="categories-grid">
                    <!-- Categories will be loaded here -->
                </div>
            </div>

            <!-- Category Modal -->
            <div id="category-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title" id="modal-title">Add New Category</h3>
                        <button class="close" id="modal-close">&times;</button>
                    </div>
                    
                    <form id="category-form">
                        <div class="form-group">
                            <label class="form-label" for="category-name">Category Name</label>
                            <input type="text" id="category-name" class="form-input" placeholder="Enter category name" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Choose Color</label>
                            <div class="color-icon-grid" id="color-options">
                                <!-- Color options will be generated -->
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Choose Icon</label>
                            <div class="color-icon-grid" id="icon-options">
                                <!-- Icon options will be generated -->
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="category-budget">Monthly Budget (Optional)</label>
                            <input type="number" id="category-budget" class="form-input" placeholder="Enter monthly budget amount" min="0" step="0.01">
                            <small style="color: rgba(255, 255, 255, 0.6); font-size: 0.8rem;">Leave empty for no budget tracking</small>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="category-subcategories">Subcategories (Optional)</label>
                            <input type="text" id="category-subcategories" class="form-input" placeholder="Enter subcategories separated by commas (e.g. Groceries, Restaurants, Takeout)">
                            <small style="color: rgba(255, 255, 255, 0.6); font-size: 0.8rem;">Separate multiple subcategories with commas</small>
                        </div>
                        
                        <div class="modal-buttons">
                            <button type="button" class="btn-secondary" id="cancel-btn">Cancel</button>
                            <button type="submit" class="btn-primary" id="save-btn">Save Category</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Category Details Modal -->
            <div id="category-details-modal" class="modal">
                <div class="modal-content category-details-content">
                    <div class="modal-header">
                        <div class="category-details-title">
                            <div class="category-icon" id="details-category-icon"></div>
                            <h3 class="modal-title" id="details-modal-title">Category Details</h3>
                        </div>
                        <button class="close" id="details-modal-close">&times;</button>
                    </div>
                    
                    <div class="category-details-stats">
                        <div class="detail-stat">
                            <span class="detail-stat-value" id="category-total-amount">$0</span>
                            <span class="detail-stat-label">Total Spent</span>
                        </div>
                        <div class="detail-stat">
                            <span class="detail-stat-value" id="category-receipt-count">0</span>
                            <span class="detail-stat-label">Receipts</span>
                        </div>
                        <div class="detail-stat">
                            <span class="detail-stat-value" id="category-avg-amount">$0</span>
                            <span class="detail-stat-label">Average</span>
                        </div>
                    </div>

                    <div class="receipts-actions">
                        <div class="search-box">
                            <input type="text" id="receipt-search" class="form-input" placeholder="Search receipts...">
                        </div>
                        <div class="filter-buttons">
                            <button class="btn-secondary" id="show-all-receipts">Show All Receipts</button>
                            <button class="btn-secondary" id="add-receipt-to-category">Add Receipt</button>
                        </div>
                    </div>
                    
                    <div class="receipts-list" id="category-receipts-list">
                        <!-- Receipts will be loaded here -->
                    </div>
                </div>
            </div>

            <div id="analytics-page" style="display: none;">
                <div class="analytics-header">
                    <h2>üìà Spending Analytics</h2>
                    <div class="analytics-header-actions">
                        <div class="dropdown">
                            <button class="btn-export" id="analytics-export-btn">
                                <span>üìä</span>
                                Export
                                <span class="dropdown-arrow">‚ñº</span>
                            </button>
                            <div class="dropdown-menu" id="analytics-export-menu">
                                <button class="dropdown-item" onclick="exportAnalyticsReport()">
                                    üìà Export Analytics Report
                                </button>
                                <button class="dropdown-item" onclick="exportReceiptsSummary()">
                                    üìä Export Summary Report
                                </button>
                            </div>
                        </div>
                        <button class="btn" id="ai-insights-btn">
                            ü§ñ AI Insights
                        </button>
                        <div class="date-range-selector">
                            <button class="date-range-btn active" data-range="all">All Time</button>
                            <button class="date-range-btn" data-range="30">Last 30 Days</button>
                            <button class="date-range-btn" data-range="90">Last 3 Months</button>
                            <button class="date-range-btn" data-range="365">This Year</button>
                        </div>
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="total-spent">$0</div>
                        <div class="stat-label">Total Spent</div>
                        <div class="stat-change" id="total-change">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="total-receipts">0</div>
                        <div class="stat-label">Total Receipts</div>
                        <div class="stat-change" id="receipts-change">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="avg-receipt">$0</div>
                        <div class="stat-label">Avg per Receipt</div>
                        <div class="stat-change" id="avg-change">--</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="top-category">--</div>
                        <div class="stat-label">Top Category</div>
                        <div class="stat-change" id="category-change">--</div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-card full-width-chart">
                        <div class="chart-title">Spending Over Time</div>
                        <div class="chart-wrapper">
                            <canvas id="spendingTimeChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-title">Category Breakdown</div>
                        <div class="chart-wrapper">
                            <canvas id="categoryPieChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-title">Monthly Trends</div>
                        <div class="chart-wrapper">
                            <canvas id="monthlyTrendsChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-title">Top Vendors</div>
                        <div class="chart-wrapper">
                            <canvas id="topVendorsChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-title">Daily Average</div>
                        <div class="chart-wrapper">
                            <canvas id="dailyAverageChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="insights-section">
                    <h3 class="chart-title">üí° Smart Insights</h3>
                    <div id="insights-container">
                        <div class="insight-item">
                            <div class="insight-icon info"></div>
                            <span>Loading insights...</span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="settings-page" style="display: none;">
                <div class="welcome-card">
                    <h2>Settings</h2>
                    <p>Configure your receipt processing preferences...</p>
                </div>
            </div>
        </main>
    </div>

    <div class="footer">
        <span id="app-version">Loading version...</span> | FlowGenius Desktop Application Project
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script type="module" src="firebase-client.js"></script>
    <script type="module" src="renderer.js"></script>
</body>
</html> 